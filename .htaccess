<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /law_firm/

    # 1. Prevent directory listing
    Options -Indexes

    # 2. Skip rewrites for assets
    RewriteCond %{REQUEST_URI} !\.(css|js|png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf|eot)$ [NC]

    # 3. Serve index.php for the base URL (homepage)
    RewriteRule ^$ index.php [L]

    # 4. Redirect /index or /index.php to /
    RewriteCond %{THE_REQUEST} /index(\.php)?[\s?] [NC]
    RewriteRule ^index(\.php)?$ / [L,R=301,NC]

    # 5. Internally rewrite URLs without .php to .php
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME}.php -f
    RewriteRule ^(.*)$ $1.php [L]

    # 6. Redirect direct .php access to the clean URL
    RewriteCond %{THE_REQUEST} \.php[\s?] [NC]
    RewriteRule ^(.*)\.php$ /$1 [L,R=301,NC]
</IfModule>
